
## Get Public Key

```sh
curl http://localhost:8080/auth/realms/master/protocol/openid-connect/certs
```

```json
{
  "keys": [
    {
      "kid": "MJ3A8JC_x5RB1WhGyAf0AnS9BpntrimpW8OQP-FXFrM",
      "kty": "RSA",
      "alg": "RS256",
      "use": "sig",
      "n": "mNTOZ8D-DzM5jVyvjkzLbty0yzsquZKX3F2ClUMz5qpviUyk4HzV7fdAyMYjINoiZQLXVrGQb2UZz4ieLvcvDeFOmoKyxQegt7diwhJWo1_DagaOveHrFCF5ETLFAUQLNi9h4F1Gw3ht77H-c9EackLC-PI-5CdP5I1jShhQlCbMM5j2Z__1iabpNaESJGtJW_jSW5ekV_2bEMbqq7Fpp5_Nc6bmi2_APK3Yz_wpVdnSeFZW_6XdB2amZD9MjTUw1m15kPgOP6o4ugAaEh7mqkkC2n1yofFcc0-fbOb-_2JRr6Q0r8bVGBmTLubGm2I13PwkyCFf79UmdWhLlaAkaQ",
      "e": "AQAB",
      "x5c": [
        "MIICmzCCAYMCBgF0YnrkMjANBgkqhkiG9w0BAQsFADARMQ8wDQYDVQQDDAZtYXN0ZXIwHhcNMjAwOTA2MDgxMjM1WhcNMzAwOTA2MDgxNDE1WjARMQ8wDQYDVQQDDAZtYXN0ZXIwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCY1M5nwP4PMzmNXK+OTMtu3LTLOyq5kpfcXYKVQzPmqm+JTKTgfNXt90DIxiMg2iJlAtdWsZBvZRnPiJ4u9y8N4U6agrLFB6C3t2LCElajX8NqBo694esUIXkRMsUBRAs2L2HgXUbDeG3vsf5z0RpyQsL48j7kJ0/kjWNKGFCUJswzmPZn//WJpuk1oRIka0lb+NJbl6RX/ZsQxuqrsWmnn81zpuaLb8A8rdjP/ClV2dJ4Vlb/pd0HZqZkP0yNNTDWbXmQ+A4/qji6ABoSHuaqSQLafXKh8VxzT59s5v7/YlGvpDSvxtUYGZMu5sabYjXc/CTIIV/v1SZ1aEuVoCRpAgMBAAEwDQYJKoZIhvcNAQELBQADggEBAA3h0xZzqqZivLoSCxdpxA3EKeHVJaFy2yyWbqF4krdQl0FCc77Pm0dAs6IUR7gDANopJuB9lGx/Wbok7rt3LG+6bpWfJMlkJ0iqXFOiBFCF1NpW/RV9zvDr+JMO6IjAWdHSWNgt7xLxjHKYanzRlQjm5I+zxdo0nn575HVaSkoFuWmVfLkplQ4UYOD2T0RfFwdBhoBz1TYTzIrLsRoL0Jjt2G1EIu0sy+Pk6vkQchDjwVkEQWoVApTNQtkjkJ2ejYguSNJbXDaHfP0GwPnIeQrXFJA2ayp43bmOnScN4XtZUYaVSlw6kMrxMBXEko+wCXJBIYCMq+JdacKFxydw6L0="
      ],
      "x5t": "FzNvl9mf_oKuJoHpYMECl-HvFP8",
      "x5t#S256": "KzgbROzKs23sK3ISpqhaZYbzwdLnHlcuJDNI0DDEx_o"
    }
  ]
}
```

## webservice-nest Secret

```json
{
  "realm": "master",
  "auth-server-url": "http://localhost:8080/auth/",
  "ssl-required": "external",
  "resource": "webservice-nest",
  "verify-token-audience": true,
  "credentials": {
    "secret": "4e70e485-470a-4976-8cb0-bce9808e4257"
  },
  "use-resource-role-mappings": true,
  "confidential-port": 0
}
```

##

```plain
[AppService] Receive request with: 'Bearer eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJNSjNBOEpDX3g1UkIxV2hHeUFmMEFuUzlCcG50cmltcFc4T1FQLUZYRnJNIn0.eyJleHAiOjE1OTkzODE5MzQsImlhdCI6MTU5OTM4MTg3NCwianRpIjoiYWY3YTJmYTYtYzFjZC00NzNkLTljYjktZjBlYWIxN2RmNTE1IiwiaXNzIjoiaHR0cDovLzE3Mi4xOC4wLjE6ODA4MC9hdXRoL3JlYWxtcy9tYXN0ZXIiLCJhdWQiOiJhY2NvdW50Iiwic3ViIjoiOTRkN2RlNGUtNDY1Ni00OGFkLWI2NzItM2YwZDk1YmYwZDc0IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoibmdpbngtcHJveHkiLCJzZXNzaW9uX3N0YXRlIjoiZDFjNjkzMjEtZDFhNy00MjkyLWE5NDgtYmIwMjAyMDZmODVhIiwiYWNyIjoiMSIsInJlYWxtX2FjY2VzcyI6eyJyb2xlcyI6WyJvZmZsaW5lX2FjY2VzcyIsInVtYV9hdXRob3JpemF0aW9uIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJlbWFpbCBwcm9maWxlIiwiZW1haWxfdmVyaWZpZWQiOmZhbHNlLCJjbGllbnRJZCI6Im5naW54LXByb3h5IiwiY2xpZW50SG9zdCI6IjE3Mi4xNy4wLjEiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJzZXJ2aWNlLWFjY291bnQtbmdpbngtcHJveHkiLCJjbGllbnRBZGRyZXNzIjoiMTcyLjE3LjAuMSJ9.PmFjBxTagnpbA5WSbkD1nhw4QnggunXfh4XYSiYYuTlZ-MO8DRSeIqioC7PssHiJmq3IsOdhMZfzFwhdTSzw1EIIvkmTEtog158uyV9Px_bbuMhMewoMLBBOm5LPUO8E1hO8M9Wari9d0Khx7QCVKOBWkKaQ1X8LrWEc9M5OXrl5mUlXq2mxssuR9ZwsBOoOrAsHdjPxEXTCZEjtkrAtmRN0uicf-UWftpFqFZTpquF_iNkuOINuaaDJ_5jGI8wtK_npmS5V-Ba2vUj9QHN03URxR-lHDYO_wwmTK06-gvKwjvNZjz1kTAlChBAq_7h84pQ8cHHfNsVl80DK3cc9vA'
```

## Verify Token

curl -v \
  -d "client_secret=4e70e485-470a-4976-8cb0-bce9808e4257" \
  -d "client_id=webservice-nest" \
  -d "username=admin" \
  -d "token=Bearer eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJNSjNBOEpDX3g1UkIxV2hHeUFmMEFuUzlCcG50cmltcFc4T1FQLUZYRnJNIn0.eyJleHAiOjE1OTkzODE5MzQsImlhdCI6MTU5OTM4MTg3NCwianRpIjoiYWY3YTJmYTYtYzFjZC00NzNkLTljYjktZjBlYWIxN2RmNTE1IiwiaXNzIjoiaHR0cDovLzE3Mi4xOC4wLjE6ODA4MC9hdXRoL3JlYWxtcy9tYXN0ZXIiLCJhdWQiOiJhY2NvdW50Iiwic3ViIjoiOTRkN2RlNGUtNDY1Ni00OGFkLWI2NzItM2YwZDk1YmYwZDc0IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoibmdpbngtcHJveHkiLCJzZXNzaW9uX3N0YXRlIjoiZDFjNjkzMjEtZDFhNy00MjkyLWE5NDgtYmIwMjAyMDZmODVhIiwiYWNyIjoiMSIsInJlYWxtX2FjY2VzcyI6eyJyb2xlcyI6WyJvZmZsaW5lX2FjY2VzcyIsInVtYV9hdXRob3JpemF0aW9uIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJlbWFpbCBwcm9maWxlIiwiZW1haWxfdmVyaWZpZWQiOmZhbHNlLCJjbGllbnRJZCI6Im5naW54LXByb3h5IiwiY2xpZW50SG9zdCI6IjE3Mi4xNy4wLjEiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJzZXJ2aWNlLWFjY291bnQtbmdpbngtcHJveHkiLCJjbGllbnRBZGRyZXNzIjoiMTcyLjE3LjAuMSJ9.PmFjBxTagnpbA5WSbkD1nhw4QnggunXfh4XYSiYYuTlZ-MO8DRSeIqioC7PssHiJmq3IsOdhMZfzFwhdTSzw1EIIvkmTEtog158uyV9Px_bbuMhMewoMLBBOm5LPUO8E1hO8M9Wari9d0Khx7QCVKOBWkKaQ1X8LrWEc9M5OXrl5mUlXq2mxssuR9ZwsBOoOrAsHdjPxEXTCZEjtkrAtmRN0uicf-UWftpFqFZTpquF_iNkuOINuaaDJ_5jGI8wtK_npmS5V-Ba2vUj9QHN03URxR-lHDYO_wwmTK06-gvKwjvNZjz1kTAlChBAq_7h84pQ8cHHfNsVl80DK3cc9vA" \
  http://localhost:8080/auth/realms/master/protocol/openid-connect/token/introspect

curl -v \
  -d "client_secret=4e70e485-470a-4976-8cb0-bce9808e4257" \
  -d "client_id=webservice-nest" \
  -d "username=admin" \
  -d "token=Bearer eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJNSjNBOEpDX3g1UkIxV2hHeUFmMEFuUzlCcG50cmltcFc4T1FQLUZYRnJNIn0.eyJleHAiOjE1OTk0MDMyNjEsImlhdCI6MTU5OTQwMzIwMSwianRpIjoiNTViNzQwYTQtYzU5NC00ZDc4LWFkMDMtZDVkMTI0YzhjZjg3IiwiaXNzIjoiaHR0cDovLzE3Mi4xOC4wLjE6ODA4MC9hdXRoL3JlYWxtcy9tYXN0ZXIiLCJhdWQiOiJhY2NvdW50Iiwic3ViIjoiOTRkN2RlNGUtNDY1Ni00OGFkLWI2NzItM2YwZDk1YmYwZDc0IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoibmdpbngtcHJveHkiLCJzZXNzaW9uX3N0YXRlIjoiZWM4OWJmNGItOGZmNC00YjdjLTgzMTAtOTlkY2I1NjhiODdlIiwiYWNyIjoiMSIsInJlYWxtX2FjY2VzcyI6eyJyb2xlcyI6WyJvZmZsaW5lX2FjY2VzcyIsInVtYV9hdXRob3JpemF0aW9uIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJlbWFpbCBwcm9maWxlIiwiZW1haWxfdmVyaWZpZWQiOmZhbHNlLCJjbGllbnRJZCI6Im5naW54LXByb3h5IiwiY2xpZW50SG9zdCI6IjE3Mi4xNy4wLjEiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJzZXJ2aWNlLWFjY291bnQtbmdpbngtcHJveHkiLCJjbGllbnRBZGRyZXNzIjoiMTcyLjE3LjAuMSJ9.Ue-nniVe8x56PePwTlmjIdJjjjlOnw3AHnN8pPbmOFiP9TNLBD7XTCmF6SkMAFSCZwGlhC55xFQGGjesEP3XCPLZjPMqNEJoFiA4hGowA9NCJhYzHdxAer4BdIaZdfaXaVuyCXoSpWi2do8cvoEAGFB5C88RXKN4_pZg_fvYRG9hwZiSsNVFA-NznxCxa1CIXuwuEac8DiyFJjKf1hZ--5bafVD-63OL2zQCM46HOYZo93sAfRVLNYEZcfDSEJ6DNvMvsanuzzR0qpp4g3RazeOiBOnw-xZYnJzLbvAIxm3zPAkQxrvk3Wdh2iiNVDV_OkLv57imtsJrHYRrQpYTJw" \
  http://localhost:8080/auth/realms/master/protocol/openid-connect/token/introspect
